# Multi-Chain Deployment Configuration

# === ETHEREUM NETWORK (Token Deployment) ===
# Ethereum Mainnet
MAINNET_DEPLOYER_PRIVATE_KEY=your_ethereum_mainnet_private_key
MAINNET_RPC_URL=https://mainnet.infura.io/v3/your_project_id

# Ethereum Sepolia Testnet
DEPLOYER_PRIVATE_KEY=your_ethereum_sepolia_private_key
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/your_project_id

# POLYGON NETWORK (Presale Deployment)
# Polygon Mainnet
POLYGON_DEPLOYER_PRIVATE_KEY=your_polygon_mainnet_private_key
POLYGON_RPC_URL=https://polygon-rpc.com

# Polygon Mumbai Testnet  
POLYGON_MUMBAI_RPC_URL=https://rpc-mumbai.maticvigil.com

# === ROLE ADDRESSES (CRITICAL: Must use separate addresses for security) ===
# Replace with actual 42-character Ethereum addresses (0x followed by 40 hex characters)
TREASURY_ADDRESS=0x1234567890123456789012345678901234567890      # Multi-sig recommended - receives tokens on Ethereum
RECORDER_ADDRESS=0x2345678901234567890123456789012345678901      # Backend service wallet - records presale on Polygon
STAGE_MANAGER_ADDRESS=0x3456789012345678901234567890123456789012 # REQUIRED: Stage management operations
ADMIN_ADDRESS=0x4567890123456789012345678901234567890123456      # REQUIRED: Must be timelock address (deployed timelock)

# === OPTIONAL PRESALE ROLE ADDRESSES (Can be granted by timelock after deployment) ===
EMERGENCY_ROLE_ADDRESS=0x5678901234567890123456789012345678901234  # Emergency operations (granted by timelock)  
FINALIZER_ROLE_ADDRESS=0x6789012345678901234567890123456789012345  # Finalizes presale (granted by timelock)

# === TIMELOCK MULTI-SIG ADDRESSES (For timelock proposers/executors) ===
ADMIN_2_ADDRESS=0x7890123456789012345678901234567890123456        # Second admin for timelock proposals
FINALIZER_2_ADDRESS=0x8901234567890123456789012345678901234567    # Second finalizer for timelock execution
EMERGENCY_2_ADDRESS=0x9012345678901234567890123456789012345678    # Second emergency responder for timelock

# === CONTRACT VERIFICATION ===
ETHERSCAN_API_KEY=your_etherscan_api_key          # For Ethereum verification
POLYGONSCAN_API_KEY=your_polygonscan_api_key      # For Polygon verification

# === DEPLOYED CONTRACT ADDRESSES (Updated after deployment) ===
ETHEREUM_TOKEN_ADDRESS=                           # Set after token deployment on Ethereum
ETHEREUM_NETWORK=                                 # mainnet or sepolia
POLYGON_PRESALE_ADDRESS=                          # Set after presale deployment on Polygon  
POLYGON_NETWORK=                                  # polygon or amoy

# === TIMELOCK CONFIGURATION (48-hour delays for critical operations) ===
TIMELOCK_ADDRESS=                                 # Set after timelock deployment - use this as ADMIN_ADDRESS
TIMELOCK_DELAY=172800                            # 48 hours in seconds (required minimum)
TIMELOCK_PROPOSERS=                              # Comma-separated list of proposer addresses
TIMELOCK_EXECUTORS=                              # Comma-separated list of executor addresses

# === GAS REPORTING ===
REPORT_GAS=true                                   # Enable gas reporting in tests

# ============================================================================
# CRITICAL SECURITY UPDATES FOR AUDIT COMPLIANCE
# ============================================================================
#
# 1. MANDATORY ADDRESS REQUIREMENTS (New Architecture):
#    - RECORDER_ADDRESS: Backend service for purchase recording (REQUIRED)
#    - STAGE_MANAGER_ADDRESS: Stage management operations (REQUIRED - separate address)  
#    - ADMIN_ADDRESS: MUST be timelock contract address (REQUIRED)
#    - All three addresses MUST be different - no address reuse allowed
#
# 2. TIMELOCK GOVERNANCE (Audit Compliance):
#    - Only timelock can perform admin operations (48-hour delay)
#    - No immediate emergency withdrawal - all emergencies go through timelock
#    - Deployer has ZERO operational privileges after deployment
#    - Constructor requires 3 separate addresses: (recorder, stageManager, admin)
#
# 3. DEPLOYMENT WORKFLOW:
#    Step 1: Deploy timelock contract first
#    Step 2: Set ADMIN_ADDRESS to deployed timelock address
#    Step 3: Deploy presale with (RECORDER, STAGE_MANAGER, TIMELOCK) addresses
#    Step 4: Optional roles (EMERGENCY, FINALIZER) granted by timelock later
#
# 4. MULTI-SIG WORKFLOW (Via Timelock):
#    - All critical operations require timelock scheduling + 48-hour delay
#    - Multiple addresses can propose/execute timelock operations
#    - No 3-of-3 immediate emergency bypass (removed for security)
#
# 5. TESTNET DEPLOYMENT CHECKLIST:
#    ✓ Set up 3+ separate test addresses (recorder, stageManager, timelock addresses)
#    ✓ Configure RPC endpoints for Sepolia (Ethereum) and Amoy (Polygon)
#    ✓ Deploy timelock first: npx hardhat run scripts/deploy-timelock.js --network sepolia
#    ✓ Copy timelock address to ADMIN_ADDRESS in .env
#    ✓ Deploy presale: npx hardhat run scripts/deploy.js --network amoy
#    ✓ Verify contracts on block explorers
#
# 6. PRODUCTION DEPLOYMENT:
#    - Use hardware wallets or multi-sig wallets for all addresses
#    - Test entire workflow on testnet first
#    - Ensure timelock proposers/executors are properly distributed
#    - Consider using separate deployment addresses from operational addresses